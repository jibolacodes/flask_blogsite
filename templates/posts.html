{% extends 'base.html' %}

{% block head %}
<title>Posts</title>
{% endblock %}

{% block body %}
<h1>All posts</h1>
<hr>
<form action="/posts" method="POST">
    <div>
        <label for="title">Title</label>
        <input type="text" name="title" id="title">
    </div>
    <div>
        <label for="author">Author</label>
        <input type="text" name="author" id="author">
    </div>
    <div>
        <label for="content">Content</label>
        <input type="text" name="content" id="content">
    </div>
    <input type="submit" value="Post">
</form>
</hr>

    {% for post in posts %}

        <h2>{{post.title}}</h2>

        {% if post.author %}
            <p>produced by: {{post.author}}</p>
        {% else %}
            <p>produced by: N/A</p>
        {% endif %}

        <p>{{post.content}}</p>
        <a href="/posts/delete/{{post.id}}">Delete</a>
        <a href="/posts/edit/{{post.id}}">Edit</a>
        <hr>

    {% endfor %}

{% endblock %}